# -*- coding: utf-8 -*-
"""bot.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1O6CCf8z4BeCnXkfhj487-HDg_GCFQjuw
"""

!pip install python-telegram-bot --upgrade

import random
import nltk
import json
import time

from sklearn.feature_extraction.text import CountVectorizer
from sklearn.ensemble import RandomForestClassifier, AdaBoostClassifier
from sklearn.model_selection import train_test_split

def clean(text):
  clean_text = ''
  for ch in text.lower():
    if ch in 'Ð°Ð±Ð²Ð³Ð´ÐµÑ‘Ð¶Ð·Ð¸Ð¹ÐºÐ»Ð¼Ð½Ð¾Ð¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑŽÑ ':
      clean_text = clean_text + ch
  return clean_text

with open ('Dataset3.json') as f:
  BOT_CONFIG = json.load(f)
len(BOT_CONFIG['intents'].keys())

texts = []
y = []
for intent in BOT_CONFIG['intents'].keys():
  for example in BOT_CONFIG['intents'][intent]['examples']:
    texts.append(example)
    y.append(intent)
len(texts), len(y)

train_texts, test_texts, y_train, y_test = train_test_split(texts, y, random_state=42, test_size=0.2)

vectorizer = CountVectorizer(ngram_range=(2, 5), min_df=1, max_df=7, analyzer ='char_wb') 
X_train = vectorizer.fit_transform(train_texts)
X_test = vectorizer.transform(test_texts)

vocab = vectorizer.get_feature_names_out()
len(vocab)

clf = RandomForestClassifier(n_estimators=300).fit(X_train, y_train)
clf.score(X_train, y_train), clf.score(X_test, y_test)

def get_intent_by_model(text):
  return clf.predict(vectorizer.transform([text]))[0]
def bot(input_text):
  intent = get_intent_by_model(input_text)
  return random.choice(BOT_CONFIG['intents'][intent]['responses'])

input_text = ''
while input_text != 'stop':
  input_text = input()
  if input_text != 'stop':
    response = bot(input_text)
    print(response)

import logging

from telegram import KeyboardButton, ReplyKeyboardMarkup
from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from telegram import Update, ForceReply
from telegram.ext import Updater, CommandHandler, MessageHandler, Filters, CallbackContext
from telegram.ext import CallbackQueryHandler
from config import TOKEN

# Enable logging
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO
)

logger = logging.getLogger(__name__)


# Define a few command handlers. These usually take the two arguments update and
# context.
def start(update: Update, context: CallbackContext) -> None:
    """Send a message when the command /start is issued."""
    user = update.effective_user
    sticHello=open("Hello.webp", "rb")
    update.message.reply_sticker(sticHello)
    time.sleep(1)
    update.message.reply_markdown_v2(
        fr'ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ñ Ð¡Ð¾Ð²Ñ‘Ð½Ð¾Ðº \- Ð±Ð¾Ñ‚ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ Ð Ð¾ÑÑ‚ÐµÐ»ÐµÐºÐ¾Ð¼ Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð² Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ\!')
    time.sleep(2.5)
    update.message.reply_text(main_menu_message(),
                            reply_markup=main_menu_keyboard())  

  
############################ Keyboards #########################################
def main_menu_keyboard():
  keyboard = [[KeyboardButton('ðŸš¨ ÐÐµÐ¾Ñ‚Ð»Ð¾Ð¶Ð½Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ')],
              [KeyboardButton('â˜ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸')],
              [KeyboardButton('ðŸ’Ž ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹')]]
  return ReplyKeyboardMarkup(keyboard)

def first_menu_keyboard():
  keyboard = [[KeyboardButton('ðŸ˜¿  Ð’Ð·Ð»Ð¾Ð¼Ð°Ð»Ð¸ Ð¼Ð¾ÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‡ÐºÑƒ')],
              [KeyboardButton('ðŸ”‘  ÐÑƒÐ¶ÐµÐ½ Ð½Ð°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ')],
              [KeyboardButton('ðŸ†˜  ÐœÐµÐ½Ñ Ð°Ñ‚Ð°ÐºÑƒÑŽÑ‚ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ¸')],
              [KeyboardButton('Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ')]]
  return ReplyKeyboardMarkup(keyboard)

def second_menu_keyboard():
  keyboard = [[KeyboardButton('ðŸ’¬   ÐžÐ±Ñ‰ÐµÐ½Ð¸Ðµ')],
              [KeyboardButton('ðŸ‘œ   ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸ Ð¸ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸')],
              [KeyboardButton('â­   Ð“Ð¾ÑÑƒÑÐ»ÑƒÐ³Ð¸')],
              [KeyboardButton('ðŸ“®   Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð°Ñ Ð¿Ð¾Ñ‡Ñ‚Ð°')],
              [KeyboardButton('Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ')]]
  return ReplyKeyboardMarkup(keyboard)

def third_menu_keyboard():
  keyboard = [[KeyboardButton('ðŸ“š  ÐÐ·Ð±ÑƒÐºÐ° Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°')],
              [KeyboardButton('ðŸŽ¥  Ð’Ð¸Ð´ÐµÐ¾ÐºÑƒÑ€ÑÑ‹')],
              [KeyboardButton('ðŸ†  Ð¢ÐµÑÑ‚Ñ‹')],
              [KeyboardButton('Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ')]]
  return ReplyKeyboardMarkup(keyboard)

#############################InlineKeyboards####################################

def hacked_page_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð’ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ðµ', url='https://vhod.ru/vkontakte/parol/')],
              [InlineKeyboardButton('ÐžÐ´Ð½Ð¾ÐºÐ»Ð°ÑÑÐ½Ð¸ÐºÐ¸', url='https://vhod.ru/odnoklassniki/vzlomali/')],
              [InlineKeyboardButton('Ð˜Ð½ÑÑ‚Ð°Ð³Ñ€Ð°Ð¼', url='https://vhod.ru/instagram/vzlomali/')]]
  return InlineKeyboardMarkup(keyboard)

def password_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ ÑÐºÑÐ¿ÐµÑ€Ñ‚Ð°', url='https://www.kaspersky.ru/blog/false-perception-of-it-security-passwords/6460/')],
              [InlineKeyboardButton('Ð“ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹', url='https://www.roboform.com/ru/password-generator/')],
              [InlineKeyboardButton('ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ²Ð¾Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ', url='https://password.kaspersky.com/ru/')]]
  return InlineKeyboardMarkup(keyboard)

def scam_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('ÐšÐ°Ðº Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ñ‚ÑŒ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ°', url='https://fincult.info/article/kak-bystro-raspoznat-moshennika/')],
              [InlineKeyboardButton('Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ðµ', url='https://www.sberbank.ru/ru/person/dist_services/cybersecurity/report/')],
              [InlineKeyboardButton('ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð¸Ð»Ð¸ ÑÐ°Ð¹Ñ‚Ð°', url='https://www.sberbank.ru/ru/person/dist_services/cybersecurity/antifraud/')]]
  return InlineKeyboardMarkup(keyboard)

def social_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸', url='https://netmap.net/news/view/102/')],
              [InlineKeyboardButton('WhatsApp', url='https://www.whatsapp.com/safety?lang=ru/')],
              [InlineKeyboardButton('Viber', url='https://goo.su/cetP')]]
  return InlineKeyboardMarkup(keyboard)

def buy_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð¤Ð¸ÑˆÐ¸Ð½Ð³', url='https://fincult.info/article/bezopasnye-pokupki-v-internete/')],
              [InlineKeyboardButton('Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñ‹', url='https://www.sberbank.ru/ru/person/blog/buy_without_loss')],
              [InlineKeyboardButton('Ð¡Ð°Ð¹Ñ‚Ñ‹ Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ð¹', url='https://www.sberbank.ru/ru/person/dist_services/cyber_blog/websites-ads')],
              [InlineKeyboardButton('ÐšÐ°Ðº Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑ…Ð¾Ð´Ñ‹ Ð¿Ð¾ ÐºÐ°Ñ€Ñ‚Ðµ', url='https://bankstoday.net/last-articles/na-zlo-moshennikam-kak-samomu-ustanovit-sutochnyj-limit-po-kartam-sberbanka')]]
  return InlineKeyboardMarkup(keyboard)

def public_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('ÐšÐ°Ðº Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ', url='https://www.gosuslugi.ru/help/faq/login/1')],
              [InlineKeyboardButton('Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð²Ð·Ð»Ð¾Ð¼Ð°', url='https://www.kaspersky.ru/blog/gosuslugi-ru-security/23371/')],
              [InlineKeyboardButton('ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€Ð°Ð¼', url='https://www.gosuslugi.ru/situation/pomoshch_pensioneram')],
              [InlineKeyboardButton('ÐžÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½Ð¾:Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ¸', url='https://www.gosuslugi.ru/help/news/2020_04_27_scammers')]]
  return InlineKeyboardMarkup(keyboard)

def mail_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð²Ð·Ð»Ð¾Ð¼Ð°', url='https://safe-surf.ru/users-of/article/335/')],
              [InlineKeyboardButton('ÐšÐ°Ðº Ð±Ð¾Ñ€Ð¾Ñ‚ÑŒÑÑ ÑÐ¾ ÑÐ¿Ð°Ð¼Ð¾Ð¼', url='https://www.kaspersky.ru/resource-center/threats/spam-phishing')],
              [InlineKeyboardButton('ÐŸÐ¸ÑÑŒÐ¼Ð° Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ¾Ð²', url='https://help.mail.ru/mail/security/letters/money')]]
  return InlineKeyboardMarkup(keyboard)

def video_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('ÐžÑÐ½Ð¾Ð²Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½Ð° ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ðµ', url='https://www.azbukainterneta.ru/guidelines/video/')],
              [InlineKeyboardButton('Ð£Ñ€Ð¾ÐºÐ¸ ÐºÐ¸Ð±ÐµÑ€Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸', url='https://education.kaspersky.com/ru/')],
              [InlineKeyboardButton('ÐžÐ½Ð»Ð°Ð¹Ð½-Ð·Ð°Ð½ÑÑ‚Ð¸Ñ', url='https://starikam.org/trips/')]]
  return InlineKeyboardMarkup(keyboard)

def e_book_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÑƒÑ€Ñ', url='https://azbukainterneta.ru/schoolbook/base/')],
              [InlineKeyboardButton('Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ ÐºÑƒÑ€Ñ', url='https://azbukainterneta.ru/schoolbook/extended/')]]
  return InlineKeyboardMarkup(keyboard)

def test_menu_inlinekeyboard():
  keyboard = [[InlineKeyboardButton('ÐšÐ¸Ð±ÐµÑ€Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ', url='https://www.sberbank.ru/common/img/uploaded/files/promo/marathon_cyber/#rec372913533')],
              [InlineKeyboardButton('ÐžÐ±Ñ‰ÐµÐ½Ð¸Ðµ Ð² ÑÐµÑ‚Ð¸', url='https://www.sberbank.ru/ru/person/dist_services/cybersecurity/education/pravila')],
              [InlineKeyboardButton('Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ñ„Ð¸ÑˆÐ¸Ð½Ð³Ð°', url='https://www.sberbank.ru/ru/person/dist_services/cybersecurity/education/fish')],
              [InlineKeyboardButton('Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ðµ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸', url='https://www.sberbank.ru/ru/person/dist_services/cybersecurity_survey_shopping')]]
  return InlineKeyboardMarkup(keyboard)

############################# Messages #########################################
def main_menu_message():
  return 'Ð§ÐµÐ¼ Ð¼Ð¾Ð³Ñƒ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ? Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»'

def first_menu_message():
  return 'Ð§Ñ‚Ð¾ Ñƒ Ð²Ð°Ñ ÑÐ»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ?'

def second_menu_message():
  return 'Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ¶Ð´Ðµ Ð²ÑÐµÐ³Ð¾. Ðž Ñ‡Ñ‘Ð¼ Ð±Ñ‹ Ð²Ñ‹ Ñ…Ð¾Ñ‚ÐµÐ»Ð¸ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ?'

def third_menu_message():
  return 'Ð§Ñ‚Ð¾ Ð²Ð°Ñ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚?'
############################# InlineMessages ###################################

def hacked_page_inline_menu_message():
  return 'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð½Ðµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ. Ð’Ð·Ð»Ð¾Ð¼Ð°Ð½Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‡ÐºÑƒ Ð² ÑÐ¾Ñ†ÑÐµÑ‚ÑÑ… Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ, Ð¿Ð¾Ð»ÑŒÐ·ÑƒÑÑÑŒ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÐ¼Ð¸'

def password_inline_menu_message():
  return 'Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð´Ð»Ñ Ð¿Ð°Ñ€Ð¾Ð»Ñ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹, Ñ†Ð¸Ñ„Ñ€Ñ‹, Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ Ð¸ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ Ð±ÑƒÐºÐ²Ñ‹. Ð”Ð»Ð¸Ð½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ â€“ Ð¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 8 Ð·Ð½Ð°ÐºÐ¾Ð². Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ ÑÐ°Ð¼Ð¸ Ð¿Ñ€Ð¸Ð´ÑƒÐ¼Ð°Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ, Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð² ÑÐ¾Ð²ÐµÑ‚Ñ‹ ÑÐºÑÐ¿ÐµÑ€Ñ‚Ð° Ð¿Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸, Ð¸Ð»Ð¸ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹.'

def scam_inline_menu_message():
  return 'EÑÐ»Ð¸ Ð²Ñ‹ Ð½Ð°Ð·Ð²Ð°Ð»Ð¸ ÐºÐ¾Ð¼Ñƒ-Ñ‚Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ²Ð¾ÐµÐ¹ ÐºÐ°Ñ€Ñ‚Ñ‹ Ð¸Ð»Ð¸ ÐºÐ¾Ð´ Ð¸Ð· Ð¡ÐœÐ¡, ÑÑ€Ð¾Ñ‡Ð½Ð¾ Ð·Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ð¼Ñƒ Ð½Ð¾Ð¼ÐµÑ€Ñƒ 900 (Ð´Ð»Ñ Ð¡Ð±ÐµÑ€Ð°) Ð¸Ð»Ð¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐºÐ°Ñ€Ñ‚Ñƒ Ð² Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ Ð±Ð°Ð½ÐºÐ°. ÐœÐ¾Ð¶ÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð¸Ð»Ð¸ ÑÐ°Ð¹Ñ‚ Ð¿Ð¾ Ð±Ð°Ð·Ðµ Ð¸ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ°Ñ….'

def social_inline_menu_message():
  return 'Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÑÐ¾Ð²ÐµÑ‚ â€“ Ð½Ðµ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐ°Ð¼ Ð¸Ð· Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ñ… Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð². Ð¢Ð°ÐºÐ¶Ðµ Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð²Ð°ÑˆÐ° Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð² ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐµÑ‚ÑÑ… Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½Ð°Ð¹Ð´ÐµÐ½Ð° Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð° ÐºÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾, Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð½Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ Ð±Ð»Ð°Ð³Ð¸Ð¼Ð¸ Ð½Ð°Ð¼ÐµÑ€ÐµÐ½Ð¸ÑÐ¼Ð¸. ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ:'

def buy_inline_menu_message():
  return 'Ð‘ÑƒÐ´ÑŒÑ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹ Ð¿Ñ€Ð¸ ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ð¸ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹. ÐÐµ ÑÑ‚Ð¾Ð¸Ñ‚ Ð¾Ñ‚Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð½ÐµÐ·Ð½Ð°ÐºÐ¾Ð¼Ñ†Ñƒ, Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð² Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ Ñ‚Ð¾Ð²Ð°Ñ€ Ð¿Ñ€Ð¾Ð´Ð°ÐµÑ‚ÑÑ Ð·Ð° ÐºÐ¾Ð¿ÐµÐ¹ÐºÐ¸. Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð² ÑÑƒÐ¼Ð¼Ñƒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð¿Ð¾ ÐºÐ°Ñ€Ñ‚Ðµ Ð·Ð° ÑÑƒÑ‚ÐºÐ¸'

def public_inline_menu_message():
  return 'Ð§ÐµÑ€ÐµÐ· Ð¿Ð¾Ñ€Ñ‚Ð°Ð» Ð³Ð¾ÑÑƒÑÐ»ÑƒÐ³ Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ðº Ð²Ñ€Ð°Ñ‡Ñƒ, Ð¾Ñ„Ð¾Ñ€Ð¼Ð¸Ñ‚ÑŒ Ð»ÑŒÐ³Ð¾Ñ‚Ñ‹ Ð¸ ÐºÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ð¸Ð¸ , Ð¾Ð¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð½Ð°Ð»Ð¾Ð³Ð¸ Ð¸ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾. Ð£Ð·Ð½Ð°Ð¹Ñ‚Ðµ, ÐºÐ°Ðº Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ð°Ð»Ðµ, Ð·Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ ÑÐ²Ð¾ÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‡ÐºÑƒ Ð¸ Ð½Ðµ ÑÑ‚Ð°Ñ‚ÑŒ Ð¶ÐµÑ€Ñ‚Ð²Ð¾Ð¹ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ¾Ð²:'

def mail_inline_menu_message():
  return 'ÐŸÐ¸ÑÑŒÐ¼Ð°, Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‰Ð¸Ðµ Ð¿Ð¾ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ñ‡Ñ‚Ðµ, Ð¼Ð¾Ð³ÑƒÑ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð²Ð¸Ñ€ÑƒÑÑ‹ Ð¸Ð»Ð¸ ÑÑÑ‹Ð»ÐºÐ¸, Ð²ÐµÐ´ÑƒÑ‰Ð¸Ðµ Ð½Ð° Ð·Ð°Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ðµ ÑÐ°Ð¹Ñ‚Ñ‹. ÐÐµ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¸ÑÑŒÐ¼Ð° Ñ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð¾Ñ‚ Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ñ… Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ¹. ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾Ð± ÑƒÐ³Ñ€Ð¾Ð·Ð°Ñ… Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°Ñ… Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸:'

def video_inline_menu_message():
  return 'Ð—Ð´ÐµÑÑŒ Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ð¹Ñ‚Ð¸ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ðµ Ð²Ð¸Ð´ÐµÐ¾ÑƒÑ€Ð¾ÐºÐ¸, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ðµ Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð·Ð°Ð½ÑÑ‚Ð¸Ñ:'

def e_book_inline_menu_message():
  return 'Ð­Ñ‚Ð¾ ÑƒÑ‡ÐµÐ±Ð½Ð¸Ðº Ð´Ð»Ñ Ð»ÑŽÐ´ÐµÐ¹ ÑÑ‚Ð°Ñ€ÑˆÐµÐ³Ð¾ Ð¿Ð¾ÐºÐ¾Ð»ÐµÐ½Ð¸Ñ. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ð½Ð¸Ñ Ð¾ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ðµ Ð¸ Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ, Ð½Ð°ÑƒÑ‡Ð¸Ñ‚ÑŒÑÑ Ð¾Ð±Ñ‰Ð°Ñ‚ÑŒÑÑ Ð¿Ð¾ Ð²Ð¸Ð´ÐµÐ¾ÑÐ²ÑÐ·Ð¸ Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ñ‹Ð¼Ð¸ ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼Ð¸'
def test_inline_menu_message():
  return 'ÐŸÑ€Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚Ñ‹, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ°Ð¼ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… ÑˆÐ°Ð½ÑÐ¾Ð² Ð´Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ Ð´Ð¾ Ð²Ð°ÑˆÐ¸Ñ… Ð´ÐµÐ½ÐµÐ³'

############################# Commands #########################################

def help_command(update: Update, context: CallbackContext) -> None:
    """Send a message when the command /help is issued."""
    update.message.reply_text('Help!')  
    

def echo(update: Update, context: CallbackContext) -> None:
    """Echo the user message."""
    input_text = update.message.text
    if input_text == 'ðŸš¨ ÐÐµÐ¾Ñ‚Ð»Ð¾Ð¶Ð½Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ':
      update.message.reply_text(first_menu_message(),
                            reply_markup=first_menu_keyboard())
    elif input_text == 'â˜ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸':
      update.message.reply_text(second_menu_message(),
                            reply_markup=second_menu_keyboard())
    elif input_text == 'ðŸ’Ž ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹':
      update.message.reply_text(third_menu_message(),
                            reply_markup=third_menu_keyboard())
    elif input_text == 'ðŸ˜¿  Ð’Ð·Ð»Ð¾Ð¼Ð°Ð»Ð¸ Ð¼Ð¾ÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‡ÐºÑƒ':
      update.message.reply_text(hacked_page_inline_menu_message(),
                            reply_markup=hacked_page_menu_inlinekeyboard())
    elif input_text == 'ðŸ”‘  ÐÑƒÐ¶ÐµÐ½ Ð½Ð°Ð´Ñ‘Ð¶Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ':
      update.message.reply_text(password_inline_menu_message(),
                            reply_markup=password_menu_inlinekeyboard())
    elif input_text == 'ðŸ†˜  ÐœÐµÐ½Ñ Ð°Ñ‚Ð°ÐºÑƒÑŽÑ‚ Ð¼Ð¾ÑˆÐµÐ½Ð½Ð¸ÐºÐ¸':
      update.message.reply_text(scam_inline_menu_message(),
                            reply_markup=scam_menu_inlinekeyboard())  
    elif input_text == 'ðŸ’¬   ÐžÐ±Ñ‰ÐµÐ½Ð¸Ðµ':
      update.message.reply_text(social_inline_menu_message(),
                            reply_markup=social_menu_inlinekeyboard())
    elif input_text == 'ðŸ‘œ   ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸ Ð¸ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸':
      update.message.reply_text(buy_inline_menu_message(),
                            reply_markup=buy_menu_inlinekeyboard())
    elif input_text == 'â­   Ð“Ð¾ÑÑƒÑÐ»ÑƒÐ³Ð¸':
      update.message.reply_text(public_inline_menu_message(),
                            reply_markup=public_menu_inlinekeyboard())
    elif input_text == 'ðŸ“®   Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð°Ñ Ð¿Ð¾Ñ‡Ñ‚Ð°':
      update.message.reply_text(mail_inline_menu_message(),
                            reply_markup=mail_menu_inlinekeyboard())
    elif input_text == 'ðŸŽ¥  Ð’Ð¸Ð´ÐµÐ¾ÐºÑƒÑ€ÑÑ‹':
      update.message.reply_text(video_inline_menu_message(),
                            reply_markup=video_menu_inlinekeyboard())
    elif input_text == 'ðŸ“š  ÐÐ·Ð±ÑƒÐºÐ° Ð˜Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°':
      update.message.reply_text(e_book_inline_menu_message(),
                            reply_markup=e_book_menu_inlinekeyboard())
    elif input_text == 'ðŸ†  Ð¢ÐµÑÑ‚Ñ‹':
      update.message.reply_text(test_inline_menu_message(),
                            reply_markup=test_menu_inlinekeyboard())
    elif input_text == 'Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ':
      update.message.reply_text(main_menu_message(),
                            reply_markup=main_menu_keyboard())
    else:
      output_text = bot(input_text)
      update.message.reply_text(output_text)


def main() -> None:
    """Start the bot."""
    # Create the Updater and pass it your bot's token.
    updater = Updater(token=TOKEN)

    # Get the dispatcher to register handlers
    dispatcher = updater.dispatcher

    # on different commands - answer in Telegram
    dispatcher.add_handler(CommandHandler("start", start))
    dispatcher.add_handler(CommandHandler("help", help_command))

    # on non command i.e message - echo the message on Telegram
    dispatcher.add_handler(MessageHandler(Filters.text & ~Filters.command, echo))
    updater.dispatcher.add_handler(CommandHandler('start', start))
    
    # Start the Bot
    updater.start_polling()

    # Run the bot until you press Ctrl-C or the process receives SIGINT,
    # SIGTERM or SIGABRT. This should be used most of the time, since
    # start_polling() is non-blocking and will stop the bot gracefully.
    updater.idle()


if __name__ == '__main__':
    main()